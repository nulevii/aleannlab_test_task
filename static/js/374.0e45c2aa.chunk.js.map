{"version":3,"file":"static/js/374.0e45c2aa.chunk.js","mappings":"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","sources":["../node_modules/pigeon-maps/lib/index.esm.js"],"sourcesContent":["import React, { Component, useState, useEffect, useRef } from 'react';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction debounce(func, wait) {\n  var timeout;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      return func.apply(context, args);\n    }, wait);\n  };\n}\nfunction parentHasClass(element, className) {\n  while (element) {\n    if (element.classList && element.classList.contains(className)) {\n      return true;\n    }\n\n    element = element.parentElement;\n  }\n\n  return false;\n}\nfunction parentPosition(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    x: rect.left,\n    y: rect.top\n  };\n}\n\nfunction osm(x, y, z) {\n  var s = String.fromCharCode(97 + (x + y + z) % 3);\n  return \"https://\" + s + \".tile.openstreetmap.org/\" + z + \"/\" + x + \"/\" + y + \".png\";\n}\n\nvar ANIMATION_TIME = 300;\nvar DIAGONAL_THROW_TIME = 1500;\nvar SCROLL_PIXELS_FOR_ZOOM_LEVEL = 150;\nvar MIN_DRAG_FOR_THROW = 40;\nvar CLICK_TOLERANCE = 2;\nvar DOUBLE_CLICK_DELAY = 300;\nvar DEBOUNCE_DELAY = 60;\nvar PINCH_RELEASE_THROW_DELAY = 300;\nvar WARNING_DISPLAY_TIMEOUT = 300;\n\nvar NOOP = function NOOP() {\n  return true;\n};\n\nvar lng2tile = function lng2tile(lon, zoom) {\n  return (lon + 180) / 360 * Math.pow(2, zoom);\n};\n\nvar lat2tile = function lat2tile(lat, zoom) {\n  return (1 - Math.log(Math.tan(lat * Math.PI / 180) + 1 / Math.cos(lat * Math.PI / 180)) / Math.PI) / 2 * Math.pow(2, zoom);\n};\n\nfunction tile2lng(x, z) {\n  return x / Math.pow(2, z) * 360 - 180;\n}\n\nfunction tile2lat(y, z) {\n  var n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\n  return 180 / Math.PI * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n}\n\nfunction getMousePixel(dom, event) {\n  var parent = parentPosition(dom);\n  return [event.clientX - parent.x, event.clientY - parent.y];\n}\n\nfunction easeOutQuad(t) {\n  return t * (2 - t);\n}\n\nvar absoluteMinMax = [tile2lat(Math.pow(2, 10), 10), tile2lat(0, 10), tile2lng(0, 10), tile2lng(Math.pow(2, 10), 10)];\nvar hasWindow = typeof window !== 'undefined';\nvar performanceNow = hasWindow && window.performance && window.performance.now ? function () {\n  return window.performance.now();\n} : function () {\n  var timeStart = new Date().getTime();\n  return function () {\n    return new Date().getTime() - timeStart;\n  };\n}();\n\nvar requestAnimationFrame = function requestAnimationFrame(callback) {\n  if (hasWindow) {\n    return (window.requestAnimationFrame || window.setTimeout)(callback);\n  } else {\n    callback(new Date().getTime());\n    return null;\n  }\n};\n\nvar cancelAnimationFrame = function cancelAnimationFrame(animFrame) {\n  return hasWindow && animFrame ? (window.cancelAnimationFrame || window.clearTimeout)(animFrame) : false;\n};\n\nfunction srcSet(dprs, url, x, y, z) {\n  if (!dprs || dprs.length === 0) {\n    return '';\n  }\n\n  return dprs.map(function (dpr) {\n    return url(x, y, z, dpr) + (dpr === 1 ? '' : \" \" + dpr + \"x\");\n  }).join(', ');\n}\n\nvar ImgTile = function ImgTile(_ref) {\n  var tile = _ref.tile,\n      tileLoaded = _ref.tileLoaded;\n  return /*#__PURE__*/React.createElement(\"img\", {\n    src: tile.url,\n    srcSet: tile.srcSet,\n    width: tile.width,\n    height: tile.height,\n    loading: 'lazy',\n    onLoad: tileLoaded,\n    alt: '',\n    style: {\n      position: 'absolute',\n      left: tile.left,\n      top: tile.top,\n      willChange: 'transform',\n      transformOrigin: 'top left',\n      opacity: 1\n    }\n  });\n};\n\nvar Map = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Map, _Component);\n\n  function Map(props) {\n    var _ref2, _props$defaultZoom, _ref3, _props$defaultCenter, _ref4, _props$width, _ref5, _props$height;\n\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"_containerRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_mousePosition\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_loadTracker\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_dragStart\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_mouseDown\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_moveEvents\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"_lastClick\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_lastTap\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_lastWheel\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_touchStartPixel\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_touchStartMidPoint\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_touchStartDistance\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_secondTouchEnd\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_warningClearTimeout\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_isAnimating\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_animationStart\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_animationEnd\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_zoomStart\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_centerTarget\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_zoomTarget\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_zoomAround\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_animFrame\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_boundsSynced\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_minMaxCache\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_lastZoom\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_lastCenter\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_centerStart\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_resizeObserver\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"updateWidthHeight\", function () {\n      if (_this._containerRef) {\n        var rect = _this._containerRef.getBoundingClientRect();\n\n        if (rect && rect.width > 0 && rect.height > 0) {\n          _this.setState({\n            width: rect.width,\n            height: rect.height\n          });\n\n          return true;\n        }\n      }\n\n      return false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"wa\", function () {\n      var _window;\n\n      return (_window = window).addEventListener.apply(_window, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"wr\", function () {\n      var _window2;\n\n      return (_window2 = window).removeEventListener.apply(_window2, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindMouseEvents\", function () {\n      _this.wa('mousedown', _this.handleMouseDown);\n\n      _this.wa('mouseup', _this.handleMouseUp);\n\n      _this.wa('mousemove', _this.handleMouseMove);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindTouchEvents\", function () {\n      _this.wa('touchstart', _this.handleTouchStart, {\n        passive: false\n      });\n\n      _this.wa('touchmove', _this.handleTouchMove, {\n        passive: false\n      });\n\n      _this.wa('touchend', _this.handleTouchEnd, {\n        passive: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unbindMouseEvents\", function () {\n      _this.wr('mousedown', _this.handleMouseDown);\n\n      _this.wr('mouseup', _this.handleMouseUp);\n\n      _this.wr('mousemove', _this.handleMouseMove);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unbindTouchEvents\", function () {\n      _this.wr('touchstart', _this.handleTouchStart);\n\n      _this.wr('touchmove', _this.handleTouchMove);\n\n      _this.wr('touchend', _this.handleTouchEnd);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindResizeEvent\", function () {\n      _this.wa('resize', _this.updateWidthHeight);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unbindResizeEvent\", function () {\n      _this.wr('resize', _this.updateWidthHeight);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindWheelEvent\", function () {\n      if (_this._containerRef) {\n        _this._containerRef.addEventListener('wheel', _this.handleWheel, {\n          passive: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unbindWheelEvent\", function () {\n      if (_this._containerRef) {\n        _this._containerRef.removeEventListener('wheel', _this.handleWheel);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setCenterZoomTarget\", function (center, zoom, fromProps, zoomAround, animationDuration) {\n      if (fromProps === void 0) {\n        fromProps = false;\n      }\n\n      if (zoomAround === void 0) {\n        zoomAround = null;\n      }\n\n      if (animationDuration === void 0) {\n        animationDuration = ANIMATION_TIME;\n      }\n\n      if (_this.props.animate && (!fromProps || _this.distanceInScreens(center, zoom, _this.state.center, _this.state.zoom) <= _this.props.animateMaxScreens)) {\n        if (_this._isAnimating) {\n          cancelAnimationFrame(_this._animFrame);\n\n          var _this$animationStep = _this.animationStep(performanceNow()),\n              centerStep = _this$animationStep.centerStep,\n              zoomStep = _this$animationStep.zoomStep;\n\n          _this._centerStart = centerStep;\n          _this._zoomStart = zoomStep;\n        } else {\n          _this._isAnimating = true;\n          _this._centerStart = _this.limitCenterAtZoom([_this._lastCenter[0], _this._lastCenter[1]], _this._lastZoom);\n          _this._zoomStart = _this._lastZoom;\n\n          _this.onAnimationStart();\n        }\n\n        _this._animationStart = performanceNow();\n        _this._animationEnd = _this._animationStart + animationDuration;\n\n        if (zoomAround) {\n          _this._zoomAround = zoomAround;\n          _this._centerTarget = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n        } else {\n          _this._zoomAround = null;\n          _this._centerTarget = center;\n        }\n\n        _this._zoomTarget = zoom;\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      } else {\n        _this.stopAnimating();\n\n        if (zoomAround) {\n          var _center = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n\n          _this.setCenterZoom(_center, zoom, fromProps);\n        } else {\n          _this.setCenterZoom(center || _this.state.center, zoom, fromProps);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setCenterZoomForChildren\", function (center, zoom) {\n      _this.setCenterZoomTarget(center || _this.state.center, zoom || _this.state.zoom, true);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"distanceInScreens\", function (centerTarget, zoomTarget, center, zoom) {\n      var _this$state = _this.state,\n          width = _this$state.width,\n          height = _this$state.height;\n\n      var l1 = _this.latLngToPixel(center, center, zoom);\n\n      var l2 = _this.latLngToPixel(centerTarget, center, zoom);\n\n      var z1 = _this.latLngToPixel(center, center, zoomTarget);\n\n      var z2 = _this.latLngToPixel(centerTarget, center, zoomTarget);\n\n      var w = (Math.abs(l1[0] - l2[0]) + Math.abs(z1[0] - z2[0])) / 2 / width;\n      var h = (Math.abs(l1[1] - l2[1]) + Math.abs(z1[1] - z2[1])) / 2 / height;\n      return Math.sqrt(w * w + h * h);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"animationStep\", function (timestamp) {\n      if (!_this._animationEnd || !_this._animationStart || !_this._zoomTarget || !_this._zoomStart || !_this._centerStart || !_this._centerTarget) {\n        return {\n          centerStep: _this.state.center,\n          zoomStep: _this.state.zoom\n        };\n      }\n\n      var length = _this._animationEnd - _this._animationStart;\n      var progress = Math.max(timestamp - _this._animationStart, 0);\n      var percentage = easeOutQuad(progress / length);\n      var zoomDiff = (_this._zoomTarget - _this._zoomStart) * percentage;\n      var zoomStep = _this._zoomStart + zoomDiff;\n\n      if (_this._zoomAround) {\n        var centerStep = _this.calculateZoomCenter(_this._centerStart, _this._zoomAround, _this._zoomStart, zoomStep);\n\n        return {\n          centerStep: centerStep,\n          zoomStep: zoomStep\n        };\n      } else {\n        var _centerStep = [_this._centerStart[0] + (_this._centerTarget[0] - _this._centerStart[0]) * percentage, _this._centerStart[1] + (_this._centerTarget[1] - _this._centerStart[1]) * percentage];\n        return {\n          centerStep: _centerStep,\n          zoomStep: zoomStep\n        };\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"animate\", function (timestamp) {\n      if (!_this._animationEnd || timestamp >= _this._animationEnd) {\n        _this._isAnimating = false;\n\n        _this.setCenterZoom(_this._centerTarget, _this._zoomTarget, true);\n\n        _this.onAnimationStop();\n      } else {\n        var _this$animationStep2 = _this.animationStep(timestamp),\n            centerStep = _this$animationStep2.centerStep,\n            zoomStep = _this$animationStep2.zoomStep;\n\n        _this.setCenterZoom(centerStep, zoomStep);\n\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopAnimating\", function () {\n      if (_this._isAnimating) {\n        _this._isAnimating = false;\n\n        _this.onAnimationStop();\n\n        cancelAnimationFrame(_this._animFrame);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"limitCenterAtZoom\", function (center, zoom) {\n      var minMax = _this.getBoundsMinMax(zoom || _this.state.zoom);\n\n      return [Math.max(Math.min(!center || isNaN(center[0]) ? _this.state.center[0] : center[0], minMax[1]), minMax[0]), Math.max(Math.min(!center || isNaN(center[1]) ? _this.state.center[1] : center[1], minMax[3]), minMax[2])];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAnimationStart\", function () {\n      _this.props.onAnimationStart && _this.props.onAnimationStart();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAnimationStop\", function () {\n      _this.props.onAnimationStop && _this.props.onAnimationStop();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setCenterZoom\", function (center, zoom, animationEnded) {\n      if (animationEnded === void 0) {\n        animationEnded = false;\n      }\n\n      var limitedCenter = _this.limitCenterAtZoom(center, zoom);\n\n      if (zoom && Math.round(_this.state.zoom) !== Math.round(zoom)) {\n        var tileValues = _this.tileValues(_this.state);\n\n        var nextValues = _this.tileValues({\n          center: limitedCenter,\n          zoom: zoom,\n          width: _this.state.width,\n          height: _this.state.height\n        });\n\n        var oldTiles = _this.state.oldTiles;\n\n        _this.setState({\n          oldTiles: oldTiles.filter(function (o) {\n            return o.roundedZoom !== tileValues.roundedZoom;\n          }).concat(tileValues)\n        }, NOOP);\n\n        var loadTracker = {};\n\n        for (var x = nextValues.tileMinX; x <= nextValues.tileMaxX; x++) {\n          for (var y = nextValues.tileMinY; y <= nextValues.tileMaxY; y++) {\n            var key = x + \"-\" + y + \"-\" + nextValues.roundedZoom;\n            loadTracker[key] = false;\n          }\n        }\n\n        _this._loadTracker = loadTracker;\n      }\n\n      _this.setState({\n        center: limitedCenter,\n        zoom: zoom || _this.state.zoom\n      }, NOOP);\n\n      var maybeZoom = _this.props.zoom ? _this.props.zoom : _this._lastZoom;\n      var maybeCenter = _this.props.center ? _this.props.center : _this._lastCenter;\n\n      if (zoom && (animationEnded || Math.abs(maybeZoom - zoom) > 0.001 || Math.abs(maybeCenter[0] - limitedCenter[0]) > 0.00001 || Math.abs(maybeCenter[1] - limitedCenter[1]) > 0.00001)) {\n        _this._lastZoom = zoom;\n        _this._lastCenter = [].concat(limitedCenter);\n\n        _this.syncToProps(limitedCenter, zoom);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getBoundsMinMax\", function (zoom) {\n      if (_this.props.limitBounds === 'center') {\n        return absoluteMinMax;\n      }\n\n      var _this$state2 = _this.state,\n          width = _this$state2.width,\n          height = _this$state2.height;\n\n      if (_this._minMaxCache && _this._minMaxCache[0] === zoom && _this._minMaxCache[1] === width && _this._minMaxCache[2] === height) {\n        return _this._minMaxCache[3];\n      }\n\n      var pixelsAtZoom = Math.pow(2, zoom) * 256;\n      var minLng = width > pixelsAtZoom ? 0 : tile2lng(width / 512, zoom);\n      var minLat = height > pixelsAtZoom ? 0 : tile2lat(Math.pow(2, zoom) - height / 512, zoom);\n      var maxLng = width > pixelsAtZoom ? 0 : tile2lng(Math.pow(2, zoom) - width / 512, zoom);\n      var maxLat = height > pixelsAtZoom ? 0 : tile2lat(height / 512, zoom);\n      var minMax = [minLat, maxLat, minLng, maxLng];\n      _this._minMaxCache = [zoom, width, height, minMax];\n      return minMax;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"tileLoaded\", function (key) {\n      if (_this._loadTracker && key in _this._loadTracker) {\n        _this._loadTracker[key] = true;\n        var unloadedCount = Object.values(_this._loadTracker).filter(function (v) {\n          return !v;\n        }).length;\n\n        if (unloadedCount === 0) {\n          _this.setState({\n            oldTiles: []\n          }, NOOP);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchStart\", function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      if (event.target && parentHasClass(event.target, 'pigeon-drag-block')) {\n        return;\n      }\n\n      if (event.touches.length === 1) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n\n        if (_this.coordsInside(pixel)) {\n          _this._touchStartPixel = [pixel];\n\n          if (!_this.props.twoFingerDrag) {\n            _this.stopAnimating();\n\n            if (_this._lastTap && performanceNow() - _this._lastTap < DOUBLE_CLICK_DELAY) {\n              event.preventDefault();\n\n              var latLngNow = _this.pixelToLatLng(_this._touchStartPixel[0]);\n\n              _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n            } else {\n              _this._lastTap = performanceNow();\n\n              _this.trackMoveEvents(pixel);\n            }\n          }\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel) {\n        event.preventDefault();\n\n        _this.stopTrackingMoveEvents();\n\n        if (_this.state.pixelDelta || _this.state.zoomDelta) {\n          _this.sendDeltaChange();\n        }\n\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        _this._touchStartPixel = [t1, t2];\n        _this._touchStartMidPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        _this._touchStartDistance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchMove\", function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n\n      if (event.touches.length === 1 && _this._touchStartPixel) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n\n        if (_this.props.twoFingerDrag) {\n          if (_this.coordsInside(pixel)) {\n            _this.showWarning('fingers');\n          }\n        } else {\n          event.preventDefault();\n\n          _this.trackMoveEvents(pixel);\n\n          _this.setState({\n            pixelDelta: [pixel[0] - _this._touchStartPixel[0][0], pixel[1] - _this._touchStartPixel[0][1]]\n          }, NOOP);\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel && _this._touchStartMidPoint && _this._touchStartDistance) {\n        var _this$state3 = _this.state,\n            width = _this$state3.width,\n            height = _this$state3.height,\n            zoom = _this$state3.zoom;\n        event.preventDefault();\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        var midPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        var midPointDiff = [midPoint[0] - _this._touchStartMidPoint[0], midPoint[1] - _this._touchStartMidPoint[1]];\n        var distance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n        var zoomDelta = Math.max(_this.props.minZoom, Math.min(_this.props.maxZoom, zoom + Math.log2(distance / _this._touchStartDistance))) - zoom;\n        var scale = Math.pow(2, zoomDelta);\n        var centerDiffDiff = [(width / 2 - midPoint[0]) * (scale - 1), (height / 2 - midPoint[1]) * (scale - 1)];\n\n        _this.setState({\n          zoomDelta: zoomDelta,\n          pixelDelta: [centerDiffDiff[0] + midPointDiff[0] * scale, centerDiffDiff[1] + midPointDiff[1] * scale]\n        }, NOOP);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchEnd\", function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n\n      if (_this._touchStartPixel) {\n        var _this$props = _this.props,\n            zoomSnap = _this$props.zoomSnap,\n            twoFingerDrag = _this$props.twoFingerDrag,\n            minZoom = _this$props.minZoom,\n            maxZoom = _this$props.maxZoom;\n        var zoomDelta = _this.state.zoomDelta;\n\n        var _this$sendDeltaChange = _this.sendDeltaChange(),\n            center = _this$sendDeltaChange.center,\n            zoom = _this$sendDeltaChange.zoom;\n\n        if (event.touches.length === 0) {\n          if (twoFingerDrag) {\n            _this.clearWarning();\n          } else {\n            var oldTouchPixel = _this._touchStartPixel[0];\n            var newTouchPixel = getMousePixel(_this._containerRef, event.changedTouches[0]);\n\n            if (Math.abs(oldTouchPixel[0] - newTouchPixel[0]) > CLICK_TOLERANCE || Math.abs(oldTouchPixel[1] - newTouchPixel[1]) > CLICK_TOLERANCE) {\n              if (!_this._secondTouchEnd || performanceNow() - _this._secondTouchEnd > PINCH_RELEASE_THROW_DELAY) {\n                event.preventDefault();\n\n                _this.throwAfterMoving(newTouchPixel, center, zoom);\n              }\n            }\n\n            _this._touchStartPixel = null;\n            _this._secondTouchEnd = null;\n          }\n        } else if (event.touches.length === 1) {\n          event.preventDefault();\n          var touch = getMousePixel(_this._containerRef, event.touches[0]);\n          _this._secondTouchEnd = performanceNow();\n          _this._touchStartPixel = [touch];\n\n          _this.trackMoveEvents(touch);\n\n          if (zoomSnap) {\n            var latLng = _this._touchStartMidPoint ? _this.pixelToLatLng(_this._touchStartMidPoint) : _this.state.center;\n            var zoomTarget;\n\n            if (twoFingerDrag && Math.round(_this.state.zoom) === Math.round(_this.state.zoom + zoomDelta)) {\n              zoomTarget = Math.round(_this.state.zoom);\n            } else {\n              zoomTarget = zoomDelta > 0 ? Math.ceil(_this.state.zoom) : Math.floor(_this.state.zoom);\n            }\n\n            var _zoom = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n\n            _this.setCenterZoomTarget(latLng, _zoom, false, latLng);\n          }\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseDown\", function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      var pixel = getMousePixel(_this._containerRef, event);\n\n      if (event.button === 0 && (!event.target || !parentHasClass(event.target, 'pigeon-drag-block')) && _this.coordsInside(pixel)) {\n        _this.stopAnimating();\n\n        event.preventDefault();\n\n        if (_this._lastClick && performanceNow() - _this._lastClick < DOUBLE_CLICK_DELAY) {\n          if (!parentHasClass(event.target, 'pigeon-click-block')) {\n            var latLngNow = _this.pixelToLatLng(_this._mousePosition || pixel);\n\n            _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n          }\n        } else {\n          _this._lastClick = performanceNow();\n          _this._mouseDown = true;\n          _this._dragStart = pixel;\n\n          _this.trackMoveEvents(pixel);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseMove\", function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n\n      if (_this._mouseDown && _this._dragStart) {\n        _this.trackMoveEvents(_this._mousePosition);\n\n        _this.setState({\n          pixelDelta: [_this._mousePosition[0] - _this._dragStart[0], _this._mousePosition[1] - _this._dragStart[1]]\n        }, NOOP);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseUp\", function (event) {\n      if (!_this._containerRef) {\n        _this._mouseDown = false;\n        return;\n      }\n\n      var pixelDelta = _this.state.pixelDelta;\n\n      if (_this._mouseDown) {\n        _this._mouseDown = false;\n        var pixel = getMousePixel(_this._containerRef, event);\n\n        if (_this.props.onClick && (!event.target || !parentHasClass(event.target, 'pigeon-click-block')) && (!pixelDelta || Math.abs(pixelDelta[0]) + Math.abs(pixelDelta[1]) <= CLICK_TOLERANCE)) {\n          var latLng = _this.pixelToLatLng(pixel);\n\n          _this.props.onClick({\n            event: event,\n            latLng: latLng,\n            pixel: pixel\n          });\n\n          _this.setState({\n            pixelDelta: undefined\n          }, NOOP);\n        } else {\n          var _this$sendDeltaChange2 = _this.sendDeltaChange(),\n              center = _this$sendDeltaChange2.center,\n              zoom = _this$sendDeltaChange2.zoom;\n\n          _this.throwAfterMoving(pixel, center, zoom);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopTrackingMoveEvents\", function () {\n      _this._moveEvents = [];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"trackMoveEvents\", function (coords) {\n      var timestamp = performanceNow();\n\n      if (_this._moveEvents.length === 0 || timestamp - _this._moveEvents[_this._moveEvents.length - 1].timestamp > 40) {\n        _this._moveEvents.push({\n          timestamp: timestamp,\n          coords: coords\n        });\n\n        if (_this._moveEvents.length > 2) {\n          _this._moveEvents.shift();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"throwAfterMoving\", function (coords, center, zoom) {\n      var _this$state4 = _this.state,\n          width = _this$state4.width,\n          height = _this$state4.height;\n      var animate = _this.props.animate;\n      var timestamp = performanceNow();\n\n      var lastEvent = _this._moveEvents.shift();\n\n      if (lastEvent && animate) {\n        var deltaMs = Math.max(timestamp - lastEvent.timestamp, 1);\n        var delta = [(coords[0] - lastEvent.coords[0]) / deltaMs * 120, (coords[1] - lastEvent.coords[1]) / deltaMs * 120];\n        var distance = Math.sqrt(delta[0] * delta[0] + delta[1] * delta[1]);\n\n        if (distance > MIN_DRAG_FOR_THROW) {\n          var diagonal = Math.sqrt(width * width + height * height);\n          var throwTime = DIAGONAL_THROW_TIME * distance / diagonal;\n          var lng = tile2lng(lng2tile(center[1], zoom) - delta[0] / 256.0, zoom);\n          var lat = tile2lat(lat2tile(center[0], zoom) - delta[1] / 256.0, zoom);\n\n          _this.setCenterZoomTarget([lat, lng], zoom, false, null, throwTime);\n        }\n      }\n\n      _this.stopTrackingMoveEvents();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"sendDeltaChange\", function () {\n      var _this$state5 = _this.state,\n          center = _this$state5.center,\n          zoom = _this$state5.zoom,\n          pixelDelta = _this$state5.pixelDelta,\n          zoomDelta = _this$state5.zoomDelta;\n      var lat = center[0];\n      var lng = center[1];\n\n      if (pixelDelta || zoomDelta !== 0) {\n        lng = tile2lng(lng2tile(center[1], zoom + zoomDelta) - (pixelDelta ? pixelDelta[0] / 256.0 : 0), zoom + zoomDelta);\n        lat = tile2lat(lat2tile(center[0], zoom + zoomDelta) - (pixelDelta ? pixelDelta[1] / 256.0 : 0), zoom + zoomDelta);\n\n        _this.setCenterZoom([lat, lng], zoom + zoomDelta);\n      }\n\n      _this.setState({\n        pixelDelta: undefined,\n        zoomDelta: 0\n      }, NOOP);\n\n      return {\n        center: _this.limitCenterAtZoom([lat, lng], zoom + zoomDelta),\n        zoom: zoom + zoomDelta\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getBounds\", function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state6 = _this.state,\n          width = _this$state6.width,\n          height = _this$state6.height;\n      return {\n        ne: _this.pixelToLatLng([width - 1, 0], center, zoom),\n        sw: _this.pixelToLatLng([0, height - 1], center, zoom)\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"syncToProps\", function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.state.zoom;\n      }\n\n      var onBoundsChanged = _this.props.onBoundsChanged;\n\n      if (onBoundsChanged) {\n        var bounds = _this.getBounds(center, zoom);\n\n        onBoundsChanged({\n          center: center,\n          zoom: zoom,\n          bounds: bounds,\n          initial: !_this._boundsSynced\n        });\n        _this._boundsSynced = true;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleWheel\", function (event) {\n      var _this$props2 = _this.props,\n          mouseEvents = _this$props2.mouseEvents,\n          metaWheelZoom = _this$props2.metaWheelZoom,\n          zoomSnap = _this$props2.zoomSnap,\n          animate = _this$props2.animate;\n\n      if (!mouseEvents) {\n        return;\n      }\n\n      if (!metaWheelZoom || event.metaKey || event.ctrlKey) {\n        event.preventDefault();\n        var addToZoom = -event.deltaY / SCROLL_PIXELS_FOR_ZOOM_LEVEL;\n\n        if (!zoomSnap && _this._zoomTarget) {\n          var stillToAdd = _this._zoomTarget - _this.state.zoom;\n\n          _this.zoomAroundMouse(addToZoom + stillToAdd, event);\n        } else {\n          if (animate) {\n            _this.zoomAroundMouse(addToZoom, event);\n          } else {\n            if (!_this._lastWheel || performanceNow() - _this._lastWheel > ANIMATION_TIME) {\n              _this._lastWheel = performanceNow();\n\n              _this.zoomAroundMouse(addToZoom, event);\n            }\n          }\n        }\n      } else {\n        _this.showWarning('wheel');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showWarning\", function (warningType) {\n      if (!_this.state.showWarning || _this.state.warningType !== warningType) {\n        _this.setState({\n          showWarning: true,\n          warningType: warningType\n        });\n      }\n\n      if (_this._warningClearTimeout) {\n        window.clearTimeout(_this._warningClearTimeout);\n      }\n\n      _this._warningClearTimeout = window.setTimeout(_this.clearWarning, WARNING_DISPLAY_TIMEOUT);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearWarning\", function () {\n      if (_this.state.showWarning) {\n        _this.setState({\n          showWarning: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"zoomAroundMouse\", function (zoomDiff, event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      var zoom = _this.state.zoom;\n      var _this$props3 = _this.props,\n          minZoom = _this$props3.minZoom,\n          maxZoom = _this$props3.maxZoom,\n          zoomSnap = _this$props3.zoomSnap;\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n\n      if (!_this._mousePosition || zoom === minZoom && zoomDiff < 0 || zoom === maxZoom && zoomDiff > 0) {\n        return;\n      }\n\n      var latLngNow = _this.pixelToLatLng(_this._mousePosition);\n\n      var zoomTarget = zoom + zoomDiff;\n\n      if (zoomSnap) {\n        zoomTarget = zoomDiff < 0 ? Math.floor(zoomTarget) : Math.ceil(zoomTarget);\n      }\n\n      zoomTarget = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n\n      _this.setCenterZoomTarget(null, zoomTarget, false, latLngNow);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"zoomPlusDelta\", function () {\n      return _this.state.zoom + _this.state.zoomDelta;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"pixelToLatLng\", function (pixel, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state7 = _this.state,\n          width = _this$state7.width,\n          height = _this$state7.height,\n          pixelDelta = _this$state7.pixelDelta;\n      var pointDiff = [(pixel[0] - width / 2 - (pixelDelta ? pixelDelta[0] : 0)) / 256.0, (pixel[1] - height / 2 - (pixelDelta ? pixelDelta[1] : 0)) / 256.0];\n      var tileX = lng2tile(center[1], zoom) + pointDiff[0];\n      var tileY = lat2tile(center[0], zoom) + pointDiff[1];\n      return [Math.max(absoluteMinMax[0], Math.min(absoluteMinMax[1], tile2lat(tileY, zoom))), Math.max(absoluteMinMax[2], Math.min(absoluteMinMax[3], tile2lng(tileX, zoom)))];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"latLngToPixel\", function (latLng, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state8 = _this.state,\n          width = _this$state8.width,\n          height = _this$state8.height,\n          pixelDelta = _this$state8.pixelDelta;\n      var tileCenterX = lng2tile(center[1], zoom);\n      var tileCenterY = lat2tile(center[0], zoom);\n      var tileX = lng2tile(latLng[1], zoom);\n      var tileY = lat2tile(latLng[0], zoom);\n      return [(tileX - tileCenterX) * 256.0 + width / 2 + (pixelDelta ? pixelDelta[0] : 0), (tileY - tileCenterY) * 256.0 + height / 2 + (pixelDelta ? pixelDelta[1] : 0)];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"calculateZoomCenter\", function (center, coords, oldZoom, newZoom) {\n      var _this$state9 = _this.state,\n          width = _this$state9.width,\n          height = _this$state9.height;\n\n      var pixelBefore = _this.latLngToPixel(coords, center, oldZoom);\n\n      var pixelAfter = _this.latLngToPixel(coords, center, newZoom);\n\n      var newCenter = _this.pixelToLatLng([width / 2 + pixelAfter[0] - pixelBefore[0], height / 2 + pixelAfter[1] - pixelBefore[1]], center, newZoom);\n\n      return _this.limitCenterAtZoom(newCenter, newZoom);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setRef\", function (dom) {\n      _this._containerRef = dom;\n    });\n\n    _this.syncToProps = debounce(_this.syncToProps, DEBOUNCE_DELAY);\n    _this._lastZoom = (_ref2 = (_props$defaultZoom = props.defaultZoom) !== null && _props$defaultZoom !== void 0 ? _props$defaultZoom : props.zoom) !== null && _ref2 !== void 0 ? _ref2 : 14;\n    _this._lastCenter = (_ref3 = (_props$defaultCenter = props.defaultCenter) !== null && _props$defaultCenter !== void 0 ? _props$defaultCenter : props.center) !== null && _ref3 !== void 0 ? _ref3 : [0, 0];\n    _this.state = {\n      zoom: _this._lastZoom,\n      center: _this._lastCenter,\n      width: (_ref4 = (_props$width = props.width) !== null && _props$width !== void 0 ? _props$width : props.defaultWidth) !== null && _ref4 !== void 0 ? _ref4 : -1,\n      height: (_ref5 = (_props$height = props.height) !== null && _props$height !== void 0 ? _props$height : props.defaultHeight) !== null && _ref5 !== void 0 ? _ref5 : -1,\n      zoomDelta: 0,\n      pixelDelta: undefined,\n      oldTiles: [],\n      showWarning: false,\n      warningType: undefined\n    };\n    return _this;\n  }\n\n  var _proto = Map.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.props.mouseEvents && this.bindMouseEvents();\n    this.props.touchEvents && this.bindTouchEvents();\n\n    if (!this.props.width || !this.props.height) {\n      if (!this.updateWidthHeight()) {\n        requestAnimationFrame(this.updateWidthHeight);\n      }\n\n      this.bindResizeEvent();\n    }\n\n    this.bindWheelEvent();\n    this.syncToProps();\n\n    if (typeof window.ResizeObserver !== 'undefined') {\n      this._resizeObserver = new window.ResizeObserver(function () {\n        _this2.updateWidthHeight();\n      });\n\n      this._resizeObserver.observe(this._containerRef);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.props.mouseEvents && this.unbindMouseEvents();\n    this.props.touchEvents && this.unbindTouchEvents();\n    this.unbindWheelEvent();\n\n    if (!this.props.width || !this.props.height) {\n      this.unbindResizeEvent();\n    }\n\n    if (this._resizeObserver) {\n      this._resizeObserver.disconnect();\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _prevProps$center;\n\n    if (this.props.mouseEvents !== prevProps.mouseEvents) {\n      this.props.mouseEvents ? this.bindMouseEvents() : this.unbindMouseEvents();\n    }\n\n    if (this.props.touchEvents !== prevProps.touchEvents) {\n      this.props.touchEvents ? this.bindTouchEvents() : this.unbindTouchEvents();\n    }\n\n    if (this.props.width && this.props.width !== prevProps.width) {\n      this.setState({\n        width: this.props.width\n      });\n    }\n\n    if (this.props.height && this.props.height !== prevProps.height) {\n      this.setState({\n        height: this.props.height\n      });\n    }\n\n    if (!this.props.center && !this.props.zoom) {\n      return;\n    }\n\n    if ((!this.props.center || this.props.center[0] === (prevProps === null || prevProps === void 0 ? void 0 : (_prevProps$center = prevProps.center) === null || _prevProps$center === void 0 ? void 0 : _prevProps$center[0]) && this.props.center[1] === prevProps.center[1]) && this.props.zoom === prevProps.zoom) {\n      return;\n    }\n\n    var currentCenter = this._isAnimating ? this._centerTarget : this.state.center;\n    var currentZoom = this._isAnimating ? this._zoomTarget : this.state.zoom;\n\n    if (currentCenter && currentZoom) {\n      var _this$props$center, _this$props$zoom;\n\n      var nextCenter = (_this$props$center = this.props.center) !== null && _this$props$center !== void 0 ? _this$props$center : currentCenter;\n      var nextZoom = (_this$props$zoom = this.props.zoom) !== null && _this$props$zoom !== void 0 ? _this$props$zoom : currentZoom;\n\n      if (Math.abs(nextZoom - currentZoom) > 0.001 || Math.abs(nextCenter[0] - currentCenter[0]) > 0.0001 || Math.abs(nextCenter[1] - currentCenter[1]) > 0.0001) {\n        this.setCenterZoomTarget(nextCenter, nextZoom, true);\n      }\n    }\n  };\n\n  _proto.coordsInside = function coordsInside(pixel) {\n    var _this$state10 = this.state,\n        width = _this$state10.width,\n        height = _this$state10.height;\n\n    if (pixel[0] < 0 || pixel[1] < 0 || pixel[0] >= width || pixel[1] >= height) {\n      return false;\n    }\n\n    var parent = this._containerRef;\n\n    if (parent) {\n      var pos = parentPosition(parent);\n      var element = document.elementFromPoint(pixel[0] + pos.x, pixel[1] + pos.y);\n      return parent === element || parent.contains(element);\n    } else {\n      return false;\n    }\n  };\n\n  _proto.tileValues = function tileValues(_ref6) {\n    var center = _ref6.center,\n        zoom = _ref6.zoom,\n        pixelDelta = _ref6.pixelDelta,\n        zoomDelta = _ref6.zoomDelta,\n        width = _ref6.width,\n        height = _ref6.height;\n    var roundedZoom = Math.round(zoom + (zoomDelta || 0));\n    var zoomDiff = zoom + (zoomDelta || 0) - roundedZoom;\n    var scale = Math.pow(2, zoomDiff);\n    var scaleWidth = width / scale;\n    var scaleHeight = height / scale;\n    var tileCenterX = lng2tile(center[1], roundedZoom) - (pixelDelta ? pixelDelta[0] / 256.0 / scale : 0);\n    var tileCenterY = lat2tile(center[0], roundedZoom) - (pixelDelta ? pixelDelta[1] / 256.0 / scale : 0);\n    var halfWidth = scaleWidth / 2 / 256.0;\n    var halfHeight = scaleHeight / 2 / 256.0;\n    var tileMinX = Math.floor(tileCenterX - halfWidth);\n    var tileMaxX = Math.floor(tileCenterX + halfWidth);\n    var tileMinY = Math.floor(tileCenterY - halfHeight);\n    var tileMaxY = Math.floor(tileCenterY + halfHeight);\n    return {\n      tileMinX: tileMinX,\n      tileMaxX: tileMaxX,\n      tileMinY: tileMinY,\n      tileMaxY: tileMaxY,\n      tileCenterX: tileCenterX,\n      tileCenterY: tileCenterY,\n      roundedZoom: roundedZoom,\n      zoomDelta: zoomDelta || 0,\n      scaleWidth: scaleWidth,\n      scaleHeight: scaleHeight,\n      scale: scale\n    };\n  };\n\n  _proto.renderTiles = function renderTiles() {\n    var _this3 = this;\n\n    var _this$state11 = this.state,\n        oldTiles = _this$state11.oldTiles,\n        width = _this$state11.width,\n        height = _this$state11.height;\n    var dprs = this.props.dprs;\n    var mapUrl = this.props.provider || osm;\n\n    var _this$tileValues = this.tileValues(this.state),\n        tileMinX = _this$tileValues.tileMinX,\n        tileMaxX = _this$tileValues.tileMaxX,\n        tileMinY = _this$tileValues.tileMinY,\n        tileMaxY = _this$tileValues.tileMaxY,\n        tileCenterX = _this$tileValues.tileCenterX,\n        tileCenterY = _this$tileValues.tileCenterY,\n        roundedZoom = _this$tileValues.roundedZoom,\n        scaleWidth = _this$tileValues.scaleWidth,\n        scaleHeight = _this$tileValues.scaleHeight,\n        scale = _this$tileValues.scale;\n\n    var tiles = [];\n\n    for (var i = 0; i < oldTiles.length; i++) {\n      var old = oldTiles[i];\n      var zoomDiff = old.roundedZoom - roundedZoom;\n\n      if (Math.abs(zoomDiff) > 4 || zoomDiff === 0) {\n        continue;\n      }\n\n      var pow = 1 / Math.pow(2, zoomDiff);\n      var xDiff = -(tileMinX - old.tileMinX * pow) * 256;\n      var yDiff = -(tileMinY - old.tileMinY * pow) * 256;\n\n      var _xMin = Math.max(old.tileMinX, 0);\n\n      var _yMin = Math.max(old.tileMinY, 0);\n\n      var _xMax = Math.min(old.tileMaxX, Math.pow(2, old.roundedZoom) - 1);\n\n      var _yMax = Math.min(old.tileMaxY, Math.pow(2, old.roundedZoom) - 1);\n\n      for (var x = _xMin; x <= _xMax; x++) {\n        for (var y = _yMin; y <= _yMax; y++) {\n          tiles.push({\n            key: x + \"-\" + y + \"-\" + old.roundedZoom,\n            url: mapUrl(x, y, old.roundedZoom),\n            srcSet: srcSet(dprs, mapUrl, x, y, old.roundedZoom),\n            left: xDiff + (x - old.tileMinX) * 256 * pow,\n            top: yDiff + (y - old.tileMinY) * 256 * pow,\n            width: 256 * pow,\n            height: 256 * pow,\n            active: false\n          });\n        }\n      }\n    }\n\n    var xMin = Math.max(tileMinX, 0);\n    var yMin = Math.max(tileMinY, 0);\n    var xMax = Math.min(tileMaxX, Math.pow(2, roundedZoom) - 1);\n    var yMax = Math.min(tileMaxY, Math.pow(2, roundedZoom) - 1);\n\n    for (var _x = xMin; _x <= xMax; _x++) {\n      for (var _y = yMin; _y <= yMax; _y++) {\n        tiles.push({\n          key: _x + \"-\" + _y + \"-\" + roundedZoom,\n          url: mapUrl(_x, _y, roundedZoom),\n          srcSet: srcSet(dprs, mapUrl, _x, _y, roundedZoom),\n          left: (_x - tileMinX) * 256,\n          top: (_y - tileMinY) * 256,\n          width: 256,\n          height: 256,\n          active: true\n        });\n      }\n    }\n\n    var boxStyle = {\n      width: scaleWidth,\n      height: scaleHeight,\n      position: 'absolute',\n      top: \"calc((100% - \" + height + \"px) / 2)\",\n      left: \"calc((100% - \" + width + \"px) / 2)\",\n      overflow: 'hidden',\n      willChange: 'transform',\n      transform: \"scale(\" + scale + \", \" + scale + \")\",\n      transformOrigin: 'top left'\n    };\n    var boxClassname = this.props.boxClassname || 'pigeon-tiles-box';\n    var left = -((tileCenterX - tileMinX) * 256 - scaleWidth / 2);\n    var top = -((tileCenterY - tileMinY) * 256 - scaleHeight / 2);\n    var tilesStyle = {\n      position: 'absolute',\n      width: (tileMaxX - tileMinX + 1) * 256,\n      height: (tileMaxY - tileMinY + 1) * 256,\n      willChange: 'transform',\n      transform: \"translate(\" + left + \"px, \" + top + \"px)\"\n    };\n    var Tile = this.props.tileComponent;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: boxStyle,\n      className: boxClassname\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pigeon-tiles\",\n      style: tilesStyle\n    }, tiles.map(function (tile) {\n      return /*#__PURE__*/React.createElement(Tile, {\n        key: tile.key,\n        tile: tile,\n        tileLoaded: function tileLoaded() {\n          return _this3.tileLoaded(tile.key);\n        }\n      });\n    })));\n  };\n\n  _proto.renderOverlays = function renderOverlays() {\n    var _this4 = this;\n\n    var _this$state12 = this.state,\n        width = _this$state12.width,\n        height = _this$state12.height,\n        center = _this$state12.center;\n    var mapState = {\n      bounds: this.getBounds(),\n      zoom: this.zoomPlusDelta(),\n      center: center,\n      width: width,\n      height: height\n    };\n    var childrenWithProps = React.Children.map(this.props.children, function (child) {\n      if (!child) {\n        return null;\n      }\n\n      if (! /*#__PURE__*/React.isValidElement(child)) {\n        return child;\n      }\n\n      var _child$props = child.props,\n          anchor = _child$props.anchor,\n          position = _child$props.position,\n          offset = _child$props.offset;\n\n      var c = _this4.latLngToPixel(anchor || position || center);\n\n      return /*#__PURE__*/React.cloneElement(child, {\n        left: c[0] - (offset ? offset[0] : 0),\n        top: c[1] - (offset ? offset[1] : 0),\n        latLngToPixel: _this4.latLngToPixel,\n        pixelToLatLng: _this4.pixelToLatLng,\n        setCenterZoom: _this4.setCenterZoomForChildren,\n        mapProps: _this4.props,\n        mapState: mapState\n      });\n    });\n    var childrenStyle = {\n      position: 'absolute',\n      width: width,\n      height: height,\n      top: \"calc((100% - \" + height + \"px) / 2)\",\n      left: \"calc((100% - \" + width + \"px) / 2)\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pigeon-overlays\",\n      style: childrenStyle\n    }, childrenWithProps);\n  };\n\n  _proto.renderAttribution = function renderAttribution() {\n    var _this$props4 = this.props,\n        attribution = _this$props4.attribution,\n        attributionPrefix = _this$props4.attributionPrefix;\n\n    if (attribution === false) {\n      return null;\n    }\n\n    var style = {\n      position: 'absolute',\n      bottom: 0,\n      right: 0,\n      fontSize: '11px',\n      padding: '2px 5px',\n      background: 'rgba(255, 255, 255, 0.7)',\n      fontFamily: \"'Helvetica Neue', Helvetica, Arial, sans-serif\",\n      color: '#333'\n    };\n    var linkStyle = {\n      color: '#0078A8',\n      textDecoration: 'none'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: \"attr\",\n      className: \"pigeon-attribution\",\n      style: style\n    }, attributionPrefix === false ? null : /*#__PURE__*/React.createElement(\"span\", null, attributionPrefix || /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://pigeon-maps.js.org/\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"Pigeon\"), ' | '), attribution || /*#__PURE__*/React.createElement(\"span\", null, ' © ', /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.openstreetmap.org/copyright\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"OpenStreetMap\"), ' contributors'));\n  };\n\n  _proto.renderWarning = function renderWarning() {\n    var _this$props5 = this.props,\n        metaWheelZoom = _this$props5.metaWheelZoom,\n        metaWheelZoomWarning = _this$props5.metaWheelZoomWarning,\n        twoFingerDrag = _this$props5.twoFingerDrag,\n        twoFingerDragWarning = _this$props5.twoFingerDragWarning,\n        warningZIndex = _this$props5.warningZIndex;\n    var _this$state13 = this.state,\n        showWarning = _this$state13.showWarning,\n        warningType = _this$state13.warningType,\n        width = _this$state13.width,\n        height = _this$state13.height;\n\n    if (metaWheelZoom && metaWheelZoomWarning || twoFingerDrag && twoFingerDragWarning) {\n      var style = {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: width,\n        height: height,\n        overflow: 'hidden',\n        pointerEvents: 'none',\n        opacity: showWarning ? 100 : 0,\n        transition: 'opacity 300ms',\n        background: 'rgba(0,0,0,0.5)',\n        color: '#fff',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        fontSize: 22,\n        fontFamily: '\"Arial\", sans-serif',\n        textAlign: 'center',\n        zIndex: warningZIndex\n      };\n      var meta = typeof window !== 'undefined' && window.navigator && window.navigator.platform.toUpperCase().indexOf('MAC') >= 0 ? '⌘' : 'ctrl';\n      var warningText = warningType === 'fingers' ? twoFingerDragWarning : metaWheelZoomWarning;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pigeon-overlay-warning\",\n        style: style\n      }, warningText.replace('META', meta));\n    } else {\n      return null;\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props6 = this.props,\n        touchEvents = _this$props6.touchEvents,\n        twoFingerDrag = _this$props6.twoFingerDrag;\n    var _this$state14 = this.state,\n        width = _this$state14.width,\n        height = _this$state14.height;\n    var containerStyle = {\n      width: this.props.width ? width : '100%',\n      height: this.props.height ? height : '100%',\n      position: 'relative',\n      display: 'inline-block',\n      overflow: 'hidden',\n      background: '#dddddd',\n      touchAction: touchEvents ? twoFingerDrag ? 'pan-x pan-y' : 'none' : 'auto'\n    };\n    var hasSize = !!(width && height);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: containerStyle,\n      ref: this.setRef,\n      dir: \"ltr\"\n    }, hasSize && this.renderTiles(), hasSize && this.renderOverlays(), hasSize && this.renderAttribution(), hasSize && this.renderWarning());\n  };\n\n  return Map;\n}(Component);\n\n_defineProperty(Map, \"defaultProps\", {\n  animate: true,\n  metaWheelZoom: false,\n  metaWheelZoomWarning: 'Use META + wheel to zoom!',\n  twoFingerDrag: false,\n  twoFingerDragWarning: 'Use two fingers to move the map',\n  zoomSnap: true,\n  mouseEvents: true,\n  touchEvents: true,\n  warningZIndex: 100,\n  animateMaxScreens: 5,\n  minZoom: 1,\n  maxZoom: 18,\n  limitBounds: 'center',\n  dprs: [],\n  tileComponent: ImgTile\n});\n\nfunction Marker(props) {\n  var width = typeof props.width !== 'undefined' ? props.width : typeof props.height !== 'undefined' ? props.height * 29 / 34 : 29;\n  var height = typeof props.height !== 'undefined' ? props.height : typeof props.width !== 'undefined' ? props.width * 34 / 29 : 34;\n\n  var _useState = useState(props.hover || false),\n      internalHover = _useState[0],\n      setInternalHover = _useState[1];\n\n  var hover = typeof props.hover === 'undefined' ? internalHover : props.hover;\n  var color = props.color || '#93C0D0';\n\n  var eventParameters = function eventParameters(event) {\n    return {\n      event: event,\n      anchor: props.anchor,\n      payload: props.payload\n    };\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + (props.left - width / 2) + \"px, \" + (props.top - (height - 1)) + \"px)\",\n      filter: hover ? 'drop-shadow(0 0 4px rgba(0, 0, 0, .3))' : '',\n      pointerEvents: 'none',\n      cursor: 'pointer'\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block',\n    onClick: props.onClick ? function (event) {\n      return props.onClick(eventParameters(event));\n    } : null,\n    onContextMenu: props.onContextMenu ? function (event) {\n      return props.onContextMenu(eventParameters(event));\n    } : null,\n    onMouseOver: function onMouseOver(event) {\n      props.onMouseOver && props.onMouseOver(eventParameters(event));\n      setInternalHover(true);\n    },\n    onMouseOut: function onMouseOut(event) {\n      props.onMouseOut && props.onMouseOut(eventParameters(event));\n      setInternalHover(false);\n    }\n  }, props.children || /*#__PURE__*/React.createElement(\"svg\", {\n    width: width,\n    height: height,\n    viewBox: \"0 0 61 71\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      pointerEvents: 'auto'\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M52 31.5C52 36.8395 49.18 42.314 45.0107 47.6094C40.8672 52.872 35.619 57.678 31.1763 61.6922C30.7916 62.0398 30.2084 62.0398 29.8237 61.6922C25.381 57.678 20.1328 52.872 15.9893 47.6094C11.82 42.314 9 36.8395 9 31.5C9 18.5709 18.6801 9 30.5 9C42.3199 9 52 18.5709 52 31.5Z\",\n    fill: color,\n    stroke: \"white\",\n    strokeWidth: \"4\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"30.5\",\n    cy: \"30.5\",\n    r: \"8.5\",\n    fill: \"white\",\n    opacity: hover ? 0.98 : 0.6\n  }))));\n}\n\nfunction Overlay(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + props.left + \"px, \" + props.top + \"px)\"\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, props.children);\n}\n\nvar defaultSvgAttributes = {\n  fill: '#93c0d099',\n  strokeWidth: '2',\n  stroke: 'white',\n  r: '30'\n};\nfunction PointComponent(props) {\n  var latLngToPixel = props.latLngToPixel;\n  var _props$coordinates = props.coordinates,\n      y = _props$coordinates[0],\n      x = _props$coordinates[1];\n\n  var _latLngToPixel = latLngToPixel([x, y]),\n      cx = _latLngToPixel[0],\n      cy = _latLngToPixel[1];\n\n  return /*#__PURE__*/React.createElement(\"circle\", _objectSpread2({\n    cx: cx,\n    cy: cy\n  }, props.svgAttributes));\n}\nfunction MultiPoint(props) {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, props.coordinates.map(function (point, i) {\n    return /*#__PURE__*/React.createElement(PointComponent, _objectSpread2(_objectSpread2({}, props), {}, {\n      coordinates: point,\n      key: i\n    }));\n  }));\n}\nfunction LineString(props) {\n  var latLngToPixel = props.latLngToPixel;\n  var p = 'M' + props.coordinates.reduce(function (a, _ref) {\n    var y = _ref[0],\n        x = _ref[1];\n\n    var _latLngToPixel2 = latLngToPixel([x, y]),\n        v = _latLngToPixel2[0],\n        w = _latLngToPixel2[1];\n\n    return a + ' ' + v + ' ' + w;\n  }, '');\n  return /*#__PURE__*/React.createElement(\"path\", _objectSpread2({\n    d: p\n  }, props.svgAttributes));\n}\nfunction MultiLineString(props) {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, props.coordinates.map(function (line, i) {\n    return /*#__PURE__*/React.createElement(LineString, {\n      coordinates: line,\n      key: i\n    });\n  }));\n}\nfunction Polygon(props) {\n  var latLngToPixel = props.latLngToPixel;\n  var p = props.coordinates.reduce(function (a, part) {\n    return a + ' M' + part.reduce(function (a, _ref2) {\n      var y = _ref2[0],\n          x = _ref2[1];\n\n      var _latLngToPixel3 = latLngToPixel([x, y]),\n          v = _latLngToPixel3[0],\n          w = _latLngToPixel3[1];\n\n      return a + ' ' + v + ' ' + w;\n    }, '') + 'Z';\n  }, '');\n  return /*#__PURE__*/React.createElement(\"path\", _objectSpread2({\n    d: p\n  }, props.svgAttributes));\n}\nfunction MultiPolygon(props) {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, props.coordinates.map(function (polygon, i) {\n    return /*#__PURE__*/React.createElement(Polygon, _objectSpread2(_objectSpread2({}, props), {}, {\n      coordinates: polygon,\n      key: i\n    }));\n  }));\n}\nfunction GeometryCollection(props) {\n  var renderer = {\n    Point: PointComponent,\n    MultiPoint: MultiPoint,\n    LineString: LineString,\n    MultiLineString: MultiLineString,\n    Polygon: Polygon,\n    MultiPolygon: MultiPolygon\n  };\n  var _props$geometry = props.geometry,\n      type = _props$geometry.type,\n      coordinates = _props$geometry.coordinates,\n      geometries = _props$geometry.geometries;\n\n  if (type === 'GeometryCollection') {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, geometries.map(function (geometry, i) {\n      return /*#__PURE__*/React.createElement(GeometryCollection, _objectSpread2(_objectSpread2({\n        key: i\n      }, props), {}, {\n        geometry: geometry\n      }));\n    }));\n  }\n\n  var Component = renderer[type];\n\n  if (Component === undefined) {\n    console.warn(\"The GeoJson Type \" + type + \" is not known\");\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(Component, {\n    latLngToPixel: props.latLngToPixel,\n    geometry: props.geometry,\n    coordinates: coordinates,\n    svgAttributes: props.svgAttributes\n  });\n}\nfunction GeoJsonFeature(props) {\n  var _useState = useState(props.hover || false),\n      internalHover = _useState[0],\n      setInternalHover = _useState[1];\n\n  var hover = props.hover !== undefined ? props.hover : internalHover;\n  var callbackSvgAttributes = props.styleCallback && props.styleCallback(props.feature, hover);\n  var svgAttributes = callbackSvgAttributes ? props.svgAttributes ? _objectSpread2(_objectSpread2({}, props.svgAttributes), callbackSvgAttributes) : callbackSvgAttributes : props.svgAttributes ? props.svgAttributes : defaultSvgAttributes;\n\n  var eventParameters = function eventParameters(event) {\n    return {\n      event: event,\n      anchor: props.anchor,\n      payload: props.feature\n    };\n  };\n\n  return /*#__PURE__*/React.createElement(\"g\", {\n    clipRule: \"evenodd\",\n    style: {\n      pointerEvents: 'auto'\n    },\n    onClick: props.onClick ? function (event) {\n      return props.onClick(eventParameters(event));\n    } : null,\n    onContextMenu: props.onContextMenu ? function (event) {\n      return props.onContextMenu(eventParameters(event));\n    } : null,\n    onMouseOver: function onMouseOver(event) {\n      props.onMouseOver && props.onMouseOver(eventParameters(event));\n      setInternalHover(true);\n    },\n    onMouseOut: function onMouseOut(event) {\n      props.onMouseOut && props.onMouseOut(eventParameters(event));\n      setInternalHover(false);\n    }\n  }, /*#__PURE__*/React.createElement(GeometryCollection, _objectSpread2(_objectSpread2(_objectSpread2({}, props), props.feature), {}, {\n    svgAttributes: svgAttributes\n  })));\n}\nfunction GeoJson(props) {\n  var _props$mapState = props.mapState,\n      width = _props$mapState.width,\n      height = _props$mapState.height;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      left: '0',\n      top: '0',\n      pointerEvents: 'none',\n      cursor: 'pointer'\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: width,\n    height: height,\n    viewBox: \"0 0 \" + width + \" \" + height,\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props.data && props.data.features.map(function (feature, i) {\n    return /*#__PURE__*/React.createElement(GeoJsonFeature, _objectSpread2(_objectSpread2({\n      key: i\n    }, props), {}, {\n      feature: feature\n    }));\n  }), React.Children.map(props.children, function (child) {\n    if (!child) {\n      return null;\n    }\n\n    if (! /*#__PURE__*/React.isValidElement(child)) {\n      return child;\n    }\n\n    return /*#__PURE__*/React.cloneElement(child, props);\n  })));\n}\nfunction GeoJsonLoader(props) {\n  var _useState2 = useState(props.data ? props.data : null),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  useEffect(function () {\n    fetch(props.link).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      return setData(data);\n    });\n  }, [props.link]);\n  return data ? /*#__PURE__*/React.createElement(GeoJson, _objectSpread2({\n    data: data\n  }, props)) : null;\n}\n\nfunction isDescendentOf(element, ancestor) {\n  while (element) {\n    if (element === ancestor) {\n      return true;\n    }\n\n    element = element.parentElement;\n  }\n\n  return false;\n}\n\nvar defaultState = {\n  isDragging: false,\n  startX: undefined,\n  startY: undefined,\n  startLeft: undefined,\n  startTop: undefined,\n  deltaX: 0,\n  deltaY: 0\n};\nfunction Draggable(props) {\n  var dragRef = useRef();\n  var propsRef = useRef(props);\n  var stateRef = useRef(_objectSpread2({}, defaultState));\n\n  var _useState = useState(defaultState),\n      _state = _useState[0],\n      _setState = _useState[1];\n\n  propsRef.current = props;\n\n  var setState = function setState(stateUpdate) {\n    var newState = _objectSpread2(_objectSpread2({}, stateRef.current), stateUpdate);\n\n    stateRef.current = newState;\n\n    _setState(newState);\n  };\n\n  var _props$mapProps = props.mapProps,\n      mouseEvents = _props$mapProps.mouseEvents,\n      touchEvents = _props$mapProps.touchEvents;\n  useEffect(function () {\n    var handleDragStart = function handleDragStart(event) {\n      if (isDescendentOf(event.target, dragRef.current)) {\n        event.preventDefault();\n        setState({\n          isDragging: true,\n          startX: ('touches' in event ? event.touches[0] : event).clientX,\n          startY: ('touches' in event ? event.touches[0] : event).clientY,\n          startLeft: propsRef.current.left,\n          startTop: propsRef.current.top,\n          deltaX: 0,\n          deltaY: 0\n        });\n\n        if (propsRef.current.onDragStart) {\n          var _propsRef$current = propsRef.current,\n              _left = _propsRef$current.left,\n              _top = _propsRef$current.top,\n              offset = _propsRef$current.offset,\n              pixelToLatLng = _propsRef$current.pixelToLatLng;\n          propsRef.current.onDragMove(pixelToLatLng([_left + (offset ? offset[0] : 0), _top + (offset ? offset[1] : 0)]));\n        }\n      }\n    };\n\n    var handleDragMove = function handleDragMove(event) {\n      if (!stateRef.current.isDragging) {\n        return;\n      }\n\n      event.preventDefault();\n      var x = ('touches' in event ? event.touches[0] : event).clientX;\n      var y = ('touches' in event ? event.touches[0] : event).clientY;\n      var deltaX = x - stateRef.current.startX;\n      var deltaY = y - stateRef.current.startY;\n      setState({\n        deltaX: deltaX,\n        deltaY: deltaY\n      });\n\n      if (propsRef.current.onDragMove) {\n        var _propsRef$current2 = propsRef.current,\n            offset = _propsRef$current2.offset,\n            pixelToLatLng = _propsRef$current2.pixelToLatLng;\n        var _stateRef$current = stateRef.current,\n            _startLeft = _stateRef$current.startLeft,\n            _startTop = _stateRef$current.startTop;\n        propsRef.current.onDragMove(pixelToLatLng([_startLeft + deltaX + (offset ? offset[0] : 0), _startTop + deltaY + (offset ? offset[1] : 0)]));\n      }\n    };\n\n    var handleDragEnd = function handleDragEnd(event) {\n      var _propsRef$current$onD, _propsRef$current4;\n\n      if (!stateRef.current.isDragging) {\n        return;\n      }\n\n      event.preventDefault();\n      var _propsRef$current3 = propsRef.current,\n          offset = _propsRef$current3.offset,\n          pixelToLatLng = _propsRef$current3.pixelToLatLng;\n      var _stateRef$current2 = stateRef.current,\n          deltaX = _stateRef$current2.deltaX,\n          deltaY = _stateRef$current2.deltaY,\n          startLeft = _stateRef$current2.startLeft,\n          startTop = _stateRef$current2.startTop;\n      (_propsRef$current$onD = (_propsRef$current4 = propsRef.current).onDragEnd) === null || _propsRef$current$onD === void 0 ? void 0 : _propsRef$current$onD.call(_propsRef$current4, pixelToLatLng([startLeft + deltaX + (offset ? offset[0] : 0), startTop + deltaY + (offset ? offset[1] : 0)]));\n      setState({\n        isDragging: false,\n        startX: undefined,\n        startY: undefined,\n        startLeft: undefined,\n        startTop: undefined,\n        deltaX: 0,\n        deltaY: 0\n      });\n    };\n\n    var wa = function wa(e, t, o) {\n      return window.addEventListener(e, t, o);\n    };\n\n    var wr = function wr(e, t) {\n      return window.removeEventListener(e, t);\n    };\n\n    if (mouseEvents) {\n      wa('mousedown', handleDragStart);\n      wa('mousemove', handleDragMove);\n      wa('mouseup', handleDragEnd);\n    }\n\n    if (touchEvents) {\n      wa('touchstart', handleDragStart, {\n        passive: false\n      });\n      wa('touchmove', handleDragMove, {\n        passive: false\n      });\n      wa('touchend', handleDragEnd, {\n        passive: false\n      });\n    }\n\n    return function () {\n      if (mouseEvents) {\n        wr('mousedown', handleDragStart);\n        wr('mousemove', handleDragMove);\n        wr('mouseup', handleDragEnd);\n      }\n\n      if (touchEvents) {\n        wr('touchstart', handleDragStart);\n        wr('touchmove', handleDragMove);\n        wr('touchend', handleDragEnd);\n      }\n    };\n  }, [mouseEvents, touchEvents]);\n  var left = props.left,\n      top = props.top,\n      className = props.className,\n      style = props.style;\n  var deltaX = _state.deltaX,\n      deltaY = _state.deltaY,\n      startLeft = _state.startLeft,\n      startTop = _state.startTop,\n      isDragging = _state.isDragging;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2(_objectSpread2({\n      cursor: isDragging ? 'grabbing' : 'grab'\n    }, style || {}), {}, {\n      position: 'absolute',\n      transform: \"translate(\" + (isDragging ? startLeft + deltaX : left) + \"px, \" + (isDragging ? startTop + deltaY : top) + \"px)\"\n    }),\n    ref: dragRef,\n    className: \"pigeon-drag-block\" + (className ? \" \" + className : '')\n  }, props.children);\n}\n\nvar commonStyle = {\n  position: 'absolute',\n  top: 10,\n  left: 10\n};\nvar commonButtonStyle = {\n  width: 28,\n  height: 28,\n  borderRadius: 2,\n  boxShadow: '0 1px 4px -1px rgba(0,0,0,.3)',\n  background: 'white',\n  lineHeight: '26px',\n  fontSize: '20px',\n  fontWeight: 700,\n  color: '#666',\n  marginBottom: 1,\n  cursor: 'pointer',\n  border: 'none',\n  display: 'block',\n  outline: 'none'\n};\nfunction ZoomControl(_ref) {\n  var style = _ref.style,\n      buttonStyle = _ref.buttonStyle,\n      setCenterZoom = _ref.setCenterZoom,\n      mapState = _ref.mapState,\n      mapProps = _ref.mapProps;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pigeon-zoom-buttons pigeon-drag-block\",\n    style: style ? _objectSpread2(_objectSpread2({}, commonStyle), style) : commonStyle\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"pigeon-zoom-in\",\n    type: \"button\",\n    style: buttonStyle ? _objectSpread2(_objectSpread2({}, commonButtonStyle), buttonStyle) : commonButtonStyle,\n    onClick: function onClick() {\n      return setCenterZoom(mapState.center, Math.min(mapState.zoom + 1, mapProps.maxZoom));\n    }\n  }, \"+\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"pigeon-zoom-out\",\n    type: \"button\",\n    style: buttonStyle ? _objectSpread2(_objectSpread2({}, commonButtonStyle), buttonStyle) : commonButtonStyle,\n    onClick: function onClick() {\n      return setCenterZoom(mapState.center, Math.max(mapState.zoom - 1, mapProps.minZoom));\n    }\n  }, \"\\u2013\"));\n}\n\nexport { Draggable, GeoJson, GeoJsonFeature, GeoJsonLoader, Map, Marker, Overlay, ZoomControl };\n"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_assertThisInitialized","self","ReferenceError","parentHasClass","element","className","classList","contains","parentElement","parentPosition","rect","getBoundingClientRect","x","left","y","top","osm","z","String","fromCharCode","NOOP","lng2tile","lon","zoom","Math","pow","lat2tile","lat","log","tan","PI","cos","tile2lng","tile2lat","n","atan","exp","getMousePixel","dom","event","parent","clientX","clientY","absoluteMinMax","hasWindow","window","performanceNow","performance","now","timeStart","Date","getTime","requestAnimationFrame","callback","setTimeout","cancelAnimationFrame","animFrame","clearTimeout","srcSet","dprs","url","map","dpr","join","Map","_Component","subClass","superClass","props","_ref2","_props$defaultZoom","_ref3","_props$defaultCenter","_ref4","_props$width","_ref5","_props$height","_this","call","this","_containerRef","width","height","setState","_window","addEventListener","_window2","removeEventListener","wa","handleMouseDown","handleMouseUp","handleMouseMove","handleTouchStart","passive","handleTouchMove","handleTouchEnd","wr","updateWidthHeight","handleWheel","center","fromProps","zoomAround","animationDuration","animate","distanceInScreens","state","animateMaxScreens","_isAnimating","_animFrame","_this$animationStep","animationStep","centerStep","zoomStep","_centerStart","_zoomStart","limitCenterAtZoom","_lastCenter","_lastZoom","onAnimationStart","_animationStart","_animationEnd","_zoomAround","_centerTarget","calculateZoomCenter","_zoomTarget","stopAnimating","_center","setCenterZoom","setCenterZoomTarget","centerTarget","zoomTarget","_this$state","l1","latLngToPixel","l2","z1","z2","w","abs","h","sqrt","timestamp","t","progress","max","percentage","zoomDiff","onAnimationStop","_this$animationStep2","minMax","getBoundsMinMax","min","isNaN","animationEnded","limitedCenter","round","tileValues","nextValues","oldTiles","roundedZoom","concat","loadTracker","tileMinX","tileMaxX","tileMinY","tileMaxY","_loadTracker","maybeZoom","maybeCenter","syncToProps","limitBounds","_this$state2","_minMaxCache","pixelsAtZoom","minLng","minLat","maxLng","values","v","touches","touch","pixel","coordsInside","_touchStartPixel","twoFingerDrag","_lastTap","preventDefault","latLngNow","pixelToLatLng","minZoom","maxZoom","trackMoveEvents","stopTrackingMoveEvents","pixelDelta","zoomDelta","sendDeltaChange","t1","t2","_touchStartMidPoint","_touchStartDistance","showWarning","_this$state3","midPoint","midPointDiff","distance","log2","scale","centerDiffDiff","_this$props","zoomSnap","_this$sendDeltaChange","clearWarning","oldTouchPixel","newTouchPixel","changedTouches","_secondTouchEnd","throwAfterMoving","latLng","ceil","floor","_zoom","button","_lastClick","_mousePosition","_mouseDown","_dragStart","onClick","_this$sendDeltaChange2","undefined","_moveEvents","coords","shift","_this$state4","lastEvent","deltaMs","delta","throwTime","lng","_this$state5","zoomPlusDelta","_this$state6","ne","sw","onBoundsChanged","bounds","getBounds","initial","_boundsSynced","_this$props2","mouseEvents","metaWheelZoom","metaKey","ctrlKey","addToZoom","deltaY","stillToAdd","zoomAroundMouse","_lastWheel","warningType","_warningClearTimeout","_this$props3","_this$state7","pointDiff","tileX","tileY","_this$state8","tileCenterX","tileCenterY","oldZoom","newZoom","_this$state9","pixelBefore","pixelAfter","newCenter","func","wait","timeout","_len","args","Array","_key","context","debounce","defaultZoom","defaultCenter","defaultWidth","defaultHeight","prototype","create","constructor","_proto","componentDidMount","_this2","bindMouseEvents","touchEvents","bindTouchEvents","bindResizeEvent","bindWheelEvent","ResizeObserver","_resizeObserver","observe","componentWillUnmount","unbindMouseEvents","unbindTouchEvents","unbindWheelEvent","unbindResizeEvent","disconnect","componentDidUpdate","prevProps","_prevProps$center","currentCenter","currentZoom","_this$props$center","_this$props$zoom","nextCenter","nextZoom","_this$state10","pos","document","elementFromPoint","_ref6","scaleWidth","scaleHeight","halfWidth","halfHeight","renderTiles","_this3","_this$state11","mapUrl","provider","_this$tileValues","tiles","old","xDiff","yDiff","_xMin","_yMin","_xMax","_yMax","active","xMin","yMin","xMax","yMax","_x","_y","boxStyle","position","overflow","willChange","transform","transformOrigin","boxClassname","tilesStyle","Tile","tileComponent","React","style","tile","tileLoaded","renderOverlays","_this4","_this$state12","mapState","childrenWithProps","children","child","_child$props","anchor","offset","c","setCenterZoomForChildren","mapProps","childrenStyle","renderAttribution","_this$props4","attribution","attributionPrefix","linkStyle","color","textDecoration","bottom","right","fontSize","padding","background","fontFamily","href","rel","renderWarning","_this$props5","metaWheelZoomWarning","twoFingerDragWarning","warningZIndex","_this$state13","pointerEvents","opacity","transition","display","justifyContent","alignItems","textAlign","zIndex","meta","navigator","platform","toUpperCase","indexOf","warningText","replace","render","_this$props6","_this$state14","containerStyle","touchAction","hasSize","ref","setRef","dir","Component","Overlay","_ref","src","loading","onLoad","alt"],"sourceRoot":""}